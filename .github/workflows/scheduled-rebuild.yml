name: Scheduled Weekly Rebuild

on:
  # Every Friday at 8:00 AM Eastern (13:00 UTC)
  schedule:
    - cron: '0 13 * * 5'
  # Allow manual trigger from GitHub Actions tab
  workflow_dispatch:

jobs:
  rebuild:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Cloudflare Pages rebuild
        run: |
          echo "Triggering rebuild to publish scheduled blog posts..."
          curl -X POST "${{ secrets.CLOUDFLARE_DEPLOY_HOOK }}"
